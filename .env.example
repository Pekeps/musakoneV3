# ===== Mopidy Configuration =====
# Option 1: Use bundled Mopidy container (default)
#   Run with: docker-compose --profile mopidy up
#   Or set: COMPOSE_PROFILES=mopidy
#
# Option 2: Use external Mopidy instance
#   Run with: docker-compose up (no profile)
#   Set MOPIDY_URL to your external instance

# Mopidy WebSocket URL
# For bundled Mopidy: leave commented or use ws://mopidy:6680/mopidy/ws
# For external Mopidy: set to your instance URL (e.g., ws://192.168.1.100:6680/mopidy/ws)
# MOPIDY_URL=ws://mopidy:6680/mopidy/ws

# Enable bundled Mopidy container (uncomment to always include Mopidy)
# COMPOSE_PROFILES=mopidy

# Music Library Path (host machine) - only used with bundled Mopidy
# Point this to your local music directory
MUSIC_LIBRARY_PATH=./data/music


# ===== Port Mapping (Host Machine) =====
FRONTEND_PORT=3000
BACKEND_PORT=3001

# Backend connection URLs (for browser clients)
# Use localhost for local development, or your server IP/domain for remote access
VITE_BACKEND_WS_URL=ws://localhost:3001/ws
VITE_BACKEND_HTTP_URL=http://localhost:3001
VITE_AUTH_ENABLED=true


# JWT Secret for token signing (CHANGE THIS IN PRODUCTION!)
JWT_SECRET=change-this-secret-in-production-use-at-least-32-random-chars


# ===== Backend Local Development =====
# These are only needed when running `gleam run` locally (not Docker)

# Database path (defaults to /app/data/musakone.db for Docker)
# DB_PATH=./data/musakone.db

# Mopidy WebSocket URL for local dev (not Docker)
# MOPIDY_URL=ws://localhost:6680/mopidy/ws


# ===== Deployment Examples =====
#
# 1. Full stack with bundled Mopidy:
#    docker-compose --profile mopidy up -d
#
# 2. Frontend + Backend only (external Mopidy):
#    MOPIDY_URL=ws://your-mopidy-host:6680/mopidy/ws docker-compose up -d
#
# 3. Always include Mopidy (add to .env):
#    COMPOSE_PROFILES=mopidy


